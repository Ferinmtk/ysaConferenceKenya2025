{% extends "layout.html" %}
{% block content %}
<h2>Upload Participants</h2>
<form method="post" enctype="multipart/form-data" class="upload">
  <div>
    <label>File (.xlsx or .csv)</label>
    <input type="file" name="file" accept=".xlsx,.csv" required>
  </div>
  <div>
    <label>Mode</label>
    <select name="mode">
      <option value="append">Append to existing</option>
      <option value="replace">Replace all participants</option>
    </select>
  </div>
  <button class="btn" type="submit">Upload</button>
</form>

{% if message %}<div class="alert ok">{{ message }}</div>{% endif %}
{% if error %}<div class="alert bad">{{ error }}</div>{% endif %}

<p class="muted" style="margin-top:10px;">
  Expected columns (case-insensitive; extra columns ignored):
  <code>Name, Stake, Ward/Branch, Email, Phone Number</code>
</p>
{% endblock %}
